const listArticleFooters=document.querySelectorAll(".cellar"),listNetworks=document.querySelectorAll(".footer__refs > a");let currentPhoto=document.querySelector(".slides__currentPhoto > img");const currentTitle=document.querySelector(".slides__title > h4");let currentNum=document.querySelector(".slides__title p > span");const arrImg=Array.from(document.querySelectorAll(".slides__gallery img")),arrSpan=Array.from(document.querySelectorAll(".slides__gallery span")),prevPhoto=document.getElementById("prevPhoto"),nextPhoto=document.getElementById("nextPhoto"),map=document.querySelector(".map > img");let id,spanActive=document.querySelector(".bg.active");function findId(){return id=arrSpan.indexOf(document.querySelector("span.active")),id}findId();import Swiper from"https://unpkg.com/swiper/swiper-bundle.esm.browser.min.js";const ready=()=>{Array.from(listArticleFooters).forEach(t=>{t.querySelectorAll(".cellar__buttons > a").forEach((t,e)=>addImgToButtons(t,e,"../img/icons/networks/0"))}),Array.from(listNetworks).forEach((t,e)=>addImgToButtons(t,e,"../img/icons/footer/0")),arrSpan.forEach(t=>t.addEventListener("click",activeSpanGallery)),document.querySelector(".search-button").addEventListener("click",activeInput)};function activeInput(){document.querySelector(".search-text").focus()}function addImgToButtons(t,e,o){let r=new Image;r.src=o+ ++e+".svg",t.insertAdjacentElement("afterbegin",r)}function activeSpanGallery(t){arrSpan.forEach(t=>t.classList.remove("active")),t.currentTarget.classList.add("active"),findId(),toggleClassCurrentPhoto(),toggleAnim()}document.addEventListener("DOMContentLoaded",ready);for(const t of["nextPhoto","prevPhoto"]){document.getElementById(t).addEventListener("click",leafing)}function leafing(t){findId(),"nextPhoto"==t.currentTarget.id&&id<arrSpan.length-1?(changeStylesSpan(id),changeStylesPhoto(++id)):"prevPhoto"==t.currentTarget.id&&id>0&&(changeStylesSpan(id),changeStylesPhoto(--id))}function changeStylesPhoto(t){arrSpan[t].classList.add("active"),toggleAnim()}function toggleAnim(){setTimeout(()=>{currentPhoto.classList.add("addanim"),currentPhoto.classList.toggle("remanim",!1),currentPhoto.src=arrImg[id].src,currentPhoto.alt=arrImg[id].alt,currentTitle.textContent=arrImg[id].alt,addStylesInButtons(id),currentNum.textContent=++id},1e3)}function changeStylesSpan(t){arrSpan[t].classList.remove("active"),toggleClassCurrentPhoto()}function toggleClassCurrentPhoto(){currentPhoto.classList.toggle("addanim",!1),currentPhoto.classList.toggle("remanim")}function addStylesInButtons(t){0===t?(prevPhoto.classList.contains("act")&&prevPhoto.classList.remove("act"),!nextPhoto.classList.contains("act")&&nextPhoto.classList.add("act"),prevPhoto.style.cursor="auto",nextPhoto.style.cursor="pointer"):t===arrSpan.length-1?(nextPhoto.classList.contains("act")&&nextPhoto.classList.remove("act"),!prevPhoto.classList.contains("act")&&prevPhoto.classList.add("act"),nextPhoto.style.cursor="auto",prevPhoto.style.cursor="pointer"):t>0?(prevPhoto.classList.add("act"),!nextPhoto.classList.contains("act")&&nextPhoto.classList.add("act"),nextPhoto.style.cursor="pointer",prevPhoto.style.cursor="pointer"):t<arrSpan.length-1&&(nextPhoto.classList.add("act"),nextPhoto.style.cursor="auto")}const th=document.querySelectorAll("table th:first-of-type "),th2=document.querySelectorAll("table th:last-of-type ");if(screen.width<1023){document.querySelector(".slides__gallery").classList.add("swiper-container"),document.querySelector(".slides__gallery ul").classList.add("swiper-wrapper");const t=document.querySelector(".swiper-wrapper"),e=document.querySelector(".swiper-container"),o=document.querySelector(".slides__title h4"),r=document.createElement("div");r.classList.add("swiper-pagination"),t.after(r),e.prepend(o),document.querySelector(".slides__footer").remove(),Array.from(th).forEach(t=>{const e=document.createElement("h4");e.textContent=t.textContent,t.replaceWith(e)}),Array.from(th2).forEach(t=>{const e=document.createElement("p");e.textContent=t.textContent,t.replaceWith(e)}),map.src="../img/photo/map-mob.svg";let n=document.querySelectorAll(".slides__gallery li");Array.from(n).forEach(t=>t.classList.add("swiper-slide"));new Swiper(".swiper-container",{slidesPerView:1.5,centeredSlides:!0,spaceBetween:20,pagination:{el:".swiper-pagination",type:"fraction"}});function handle(){setTimeout((function(){o.textContent=document.querySelector(".swiper-slide-active img").alt}),200)}Array.from(n).forEach(t=>t.addEventListener("touchstart",()=>handle()))}