const listArticleFooters=document.querySelectorAll(".cellar"),listNetworks=document.querySelectorAll(".footer__refs > a"),listSpanGallery=document.querySelectorAll(".slides__gallery span"),listImgGallery=document.querySelectorAll(".slides__gallery img");let currentPhoto=document.querySelector(".slides__currentPhoto > img"),anim=document.querySelector(".slides__currentPhoto");const currentTitle=document.querySelector(".slides__title > h4");let currentNum=document.querySelector(".slides__title p > span");const arrImg=Array.from(listImgGallery),arrSpan=Array.from(listSpanGallery),prevPhoto=document.getElementById("prevPhoto"),nextPhoto=document.getElementById("nextPhoto"),map=document.querySelector(".map > img");import Swiper from"https://unpkg.com/swiper/swiper-bundle.esm.browser.min.js";const ready=()=>{document.querySelectorAll(".ibg").forEach(t=>{t.querySelector("img")&&(t.style.backgroundImage="url("+t.querySelector("img").getAttribute("src")+")",t.querySelector("img").style.minWidth="100%",t.querySelector("img").style.visibility="hidden")}),Array.from(listArticleFooters).forEach(t=>{t.querySelectorAll(".cellar__buttons > a").forEach((t,e)=>addImgToButtons(t,e))}),Array.from(listNetworks).forEach((t,e)=>addImgToRefs(t,e)),Array.from(listSpanGallery).forEach(t=>t.addEventListener("click",activeSpanGallery))};function activeInput(){document.querySelector(".search-text").focus()}function addImgToButtons(t,e){let r=new Image;r.src="../img/icons/networks/0"+ ++e+".svg",t.insertAdjacentElement("afterbegin",r)}function addImgToRefs(t,e){let r=new Image;r.src="../img/icons/footer/0"+ ++e+".svg",t.insertAdjacentElement("afterbegin",r)}function activeSpanGallery(t){Array.from(listSpanGallery).forEach(t=>t.classList.remove("active")),t.currentTarget.classList.add("active"),currentPhoto.classList.toggle("addanim",!1),currentPhoto.classList.toggle("remanim"),setTimeout(()=>{currentPhoto.classList.add("addanim"),currentPhoto.classList.toggle("remanim",!1),currentPhoto.src=t.target.nextElementSibling.src,currentPhoto.alt=t.target.nextElementSibling.alt,currentTitle.textContent=t.target.nextElementSibling.alt;let e=Array.from(listSpanGallery).indexOf(t.target);addStylesInButtons(e),currentNum.textContent=++e},2e3)}document.addEventListener("DOMContentLoaded",ready),document.querySelector(".search-button").addEventListener("click",activeInput);for(const t of["nextPhoto","prevPhoto"]){document.getElementById(t).addEventListener("click",leafing)}function leafing(t){let e=Array.from(listSpanGallery).indexOf(document.querySelector("span.active"));"nextPhoto"==t.currentTarget.id&&e<listSpanGallery.length-1?(listSpanGallery[e].classList.remove("active"),currentPhoto.classList.toggle("addanim",!1),currentPhoto.classList.toggle("remanim"),setTimeout(()=>{currentPhoto.classList.add("addanim"),currentPhoto.classList.toggle("remanim",!1),e++,currentPhoto.src=arrImg[e].src,currentPhoto.alt=arrImg[e].alt,listSpanGallery[e].classList.add("active"),addStylesInButtons(e),currentTitle.textContent=arrImg[e].alt,currentNum.textContent=++e},2e3)):"prevPhoto"==t.currentTarget.id&&e>0&&(listSpanGallery[e].classList.remove("active"),currentPhoto.classList.toggle("addanim",!1),currentPhoto.classList.toggle("remanim"),setTimeout(()=>{currentPhoto.classList.add("addanim"),currentPhoto.classList.toggle("remanim",!1),--e,currentPhoto.src=arrImg[e].src,currentPhoto.alt=arrImg[e].alt,listSpanGallery[e].classList.add("active"),addStylesInButtons(e),currentTitle.textContent=arrImg[e].alt,currentNum.textContent=++e},2e3))}function addStylesInButtons(t){0===t?(prevPhoto.classList.contains("act")&&prevPhoto.classList.remove("act"),!nextPhoto.classList.contains("act")&&nextPhoto.classList.add("act"),prevPhoto.style.cursor="auto",nextPhoto.style.cursor="pointer"):t===listSpanGallery.length-1?(nextPhoto.classList.contains("act")&&nextPhoto.classList.remove("act"),!prevPhoto.classList.contains("act")&&prevPhoto.classList.add("act"),nextPhoto.style.cursor="auto",prevPhoto.style.cursor="pointer"):t>0?(prevPhoto.classList.add("act"),!nextPhoto.classList.contains("act")&&nextPhoto.classList.add("act"),nextPhoto.style.cursor="pointer",prevPhoto.style.cursor="pointer"):t<listSpanGallery.length-1&&(nextPhoto.classList.add("act"),nextPhoto.style.cursor="auto")}const th=document.querySelectorAll("table th:first-of-type "),th2=document.querySelectorAll("table th:last-of-type "),allImg=document.querySelector(".allImg");if(screen.width<1023){document.querySelector(".slides__gallery").classList.add("swiper-container"),document.querySelector(".slides__gallery ul").classList.add("swiper-wrapper");const t=document.querySelector(".swiper-wrapper"),e=document.querySelector(".swiper-container"),r=document.querySelector(".slides__title h4"),o=document.createElement("div");o.classList.add("swiper-pagination"),t.after(o),e.prepend(r),document.querySelector(".slides__footer").remove(),Array.from(th).forEach(t=>{const e=document.createElement("h4");e.textContent=t.textContent,t.replaceWith(e)}),Array.from(th2).forEach(t=>{const e=document.createElement("p");e.textContent=t.textContent,t.replaceWith(e)}),map.src="../img/photo/map-mob.svg";let n=document.querySelectorAll(".slides__gallery li");Array.from(n).forEach(t=>t.classList.add("swiper-slide"));new Swiper(".swiper-container",{slidesPerView:1.5,centeredSlides:!0,spaceBetween:20,pagination:{el:".swiper-pagination",type:"fraction"}});function handle(){setTimeout((function(){r.textContent=document.querySelector(".swiper-slide-active img").alt}),200)}Array.from(n).forEach(t=>t.addEventListener("touchstart",()=>handle()))}